---
title: Sbox小盒子社区文档
layout: about
---

# Sbox小盒子社区文档

# 社区代码文件

## 前端文件（依据AGPLv3开源)
[gitee.com/wujiajiouwei/small-box-community](https://gitee.com/wujiajiouwei/small-box-community)
[github.com/shunianssy/sbox-Abandoned-code](https://github.com/shunianssy/sbox-Abandoned-code)

## 小盒子社区后端
Flask (闭源)

## 小盒子社区api（依据GPLv3开源)
Fastapi[gitee.com/wujiajiouwei/small-box-api/tree/master](https://gitee.com/wujiajiouwei/small-box-api/tree/master/)

# 启动指南

## waitress启动社区main文件：5219
.venv\Scripts\activate
waitress-serve --host=0.0.0.0 --port=5219 --threads=256 app:app

## python启动社区api文件：5218
venv\Scripts\activate
python sboxapi.py

# 社区核心问题记录 解决方案

## 解决闪屏方法代码 如有更改不完整发送到sbox520@163.com/shunianssy@163.com
<!-- 在 head 中提前运行脚本，防止 FOUC -->
<script>
    // 立即读取主题，避免闪烁
    (function() {
        const savedTheme = localStorage.getItem('theme') || 'dark'; // 默认 dark
        document.documentElement.setAttribute('data-theme', savedTheme);
    })();
</script>

# 统一菜单栏和底部链接
{{ nav|safe }}  {{ footer|safe }}

# 二次转义
{{ file | e }}

# 社区BUG更改与修复

## 社区个人主页更改md语法允许 & md界面的xxs过滤，添加双重转义
{{ file | e }}

# 管理文件问题
/scratch/<id>/master 界面下无法跳转到 /scratch/<id>/Management

# 删除多余代码